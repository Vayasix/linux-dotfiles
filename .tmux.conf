# reload tmux conf
bind r source-file ~/.tmux.conf


unbind C-b
set -g prefix C-a
bind C-a send-prefix
#bind Escape copy-mode

## new split in current pane (horizontal / vertical)
bind-key - split-window -v # split pane horizontally
bind-key \ split-window -h # split pane vertically
# # save ssh pipeline
# bind - run-shell 'tmux split-window -v "eval $(tmux display -p "$TMUX_SSH_CMD_#I"); exec $SHELL"'
# bind \ run-shell 'tmux split-window -h "eval $(tmux display -p "$TMUX_SSH_CMD_#I"); exec $SHELL"'
# bind C-c run-shell 'tmux neww            "eval $(tmux display -p "$TMUX_SSH_CMD_#I"); exec $SHELL"'

# select pannel
bind j select-pane -D
bind k select-pane -U
bind h select-pane -L
bind l select-pane -R

# list panes
bind-key Space list-panes
# break-pane
bind-key Enter break-pane
# join-pane (return back from break-pane)
# bind-key = join-pane

bind : command-prompt


# ステータスバーの色を設定する
set -g status-fg white
set -g status-bg black


#option
#set -g default-terminal "xterm-256color"
set -g default-terminal "screen-256color"
set -g default-command zsh
set -g status-position top
set -g display-time 6000
set -g status-interval 30
set -g history-limit 100000

# マウス操作を有効にする
setw -g mode-mouse on
set -g mouse-select-pane on
set -g mouse-resize-pane on
set -g mouse-select-window on


# vim キーバインドを使用
# コピーモードを設定する
setw -g mode-keys vi
set-window-option -g mode-keys vi
bind [ copy-mode
bind -t vi-copy v begin-selection
bind -t vi-copy y copy-selection
bind -t vi-copy V rectangle-toggle
bind -t vi-copy Escape cancel
bind ] paste-buffer

# vimのキーバインドでペインをリサイズする
bind -r C-j resize-pane -D 5
bind -r C-k resize-pane -U 5
bind -r C-h resize-pane -L 5
bind -r C-l resize-pane -R 5

# sync clipboard
# for linux
if "which xclip" "bind-key -t emacs-copy C-w copy-pipe 'xclip -i -selection clipboard'";
if "which xclip" "bind-key ] run 'tmux set-buffer -- \"$(xclip -o -selection clipboard)\"; tmux paste-buffer'";

# buffer
bind Space choose-buffer

# move x clipboard into tmux paste buffer
#bind C-p run "tmux set-buffer \"$(xclip -o)\"; tmux paste-buffer"
# # move tmux copy buffer into x clipboard
#bind C-y run "tmux save-buffer - | xclip -i"
#bind y run-shell "tmux show-buffer | xclip -sel clip -i" \; display-message "Copied tmux buffer to system clipboard"
#bind-key -t vi-copy y copy-pipe 'xclip -in -selection clipboard'

# sync clipboard
# bind-key ] run "tmux set-buffer -- \"$(xclip -o -selection clipboard)\"; tmux paste-buffer"
# bind-key -t emacs-copy C-w copy-pipe "xclip -i -selection clipboard"
# unbind -t emacs-copy M-w
# unbind -t emacs-copy C-w
# bind-key -t emacs-copy M-w copy-pipe "xsel -bi"
# bind-key -t emacs-copy C-w copy-pipe "xsel -bi"

